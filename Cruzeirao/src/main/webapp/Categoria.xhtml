<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Cadastro</title>
</h:head>
<h:body>
	
	<p:menu>
    	<p:menuitem value="Voltar" url="/faces/Campeonato.xhtml"  icon="ui-icon-disk" />
	 </p:menu>
	 
	 <br/>
	 		<h1>Dados do Campeonato:</h1>
			<p:outputLabel value="Nome: #{categoriaMB.campeonatoAtual.nome}"  />
	<h2>
		<strong>Quais sao suas Categorias?</strong>
	</h2>
	<h:form id="formCategoria">

		<h:panelGrid columns="2" cellpadding="5">

			<p:outputLabel value="Nome: " />
			<p:inputText value="#{categoriaMB.novaCategoria.nome}" />

			<p:outputLabel value="Nascidos a partir de: " />
			<p:inputText value="#{categoriaMB.novaCategoria.nascidosApartirDe}" />

			<p:outputLabel value="Jogadores Minimos: " />
			<p:inputText value="#{categoriaMB.novaCategoria.minJogadores}" />

			<p:outputLabel value="Jogadores Maximos: " />
			<p:inputText value="#{categoriaMB.novaCategoria.maxJogadores}" />

			<p:outputLabel value="Sexo: " />
			<p:inputText value="#{categoriaMB.novaCategoria.sexo}" />

		</h:panelGrid>

		<p:commandButton value="Salvar" action="#{categoriaMB.salvar()}" update=":formCategoria" />
		
		<h3>Categorias Cadastradas</h3>

		<p:dataTable var="cat" value="#{categoriaMB.campeonatoAtual.categorias}" id="Categoria" editable="true">
		
		<p:ajax event="rowEdit" listener="#{categoriaMB.atualizar}" update="Categoria" />
			
			<p:column colspan="2" headerText="Nome">
				<p:cellEditor>
			  		<f:facet name="output"><p:outputLabel value="#{cat.nome}" /></f:facet>
			  		<f:facet name="input"><p:inputText value="#{cat.nome}" style="width:100%" id="nome" /></f:facet>
			  	</p:cellEditor>
			</p:column>

			<p:column colspan="2" headerText="Nascido">
			<p:cellEditor>
			  		<f:facet name="output"><p:outputLabel value="#{cat.nascidosApartirDe}" /></f:facet>
			  		<f:facet name="input"><p:inputText value="#{cat.nascidosApartirDe}" style="width:100%" id="nascApartirDe" /></f:facet>
			  	</p:cellEditor>
			</p:column>

			<p:column colspan="2" headerText="Jogadores Minimos">
				<p:cellEditor>
			  		<f:facet name="output"><p:outputLabel value="#{cat.minJogadores}" /></f:facet>
			  		<f:facet name="input"><p:inputText value="#{ccat.minJogadores}" style="width:100%" id="minJogadores" /></f:facet>
			  	</p:cellEditor>
			</p:column>

			<p:column colspan="2" headerText="Jogadores Maximos">
				<p:cellEditor>
			  		<f:facet name="output"><p:outputLabel value="#{cat.maxJogadores}" /></f:facet>
			  		<f:facet name="input"><p:inputText value="#{cat.maxJogadores}" style="width:100%" id="maxJOgadores" /></f:facet>
			  	</p:cellEditor>
			</p:column>

			<p:column colspan="2" headerText="Sexo">
				<p:cellEditor>
			  		<f:facet name="output"><p:outputLabel value="#{cat.sexo}" /></f:facet>
			  		<f:facet name="input"><p:inputText value="#{cat.sexo}" style="width:100%" id="Sexo" /></f:facet>
			  	</p:cellEditor>
			</p:column>
			
			<p:column style="width:32px">
           		<p:rowEditor />
           		<p:commandLink 
           		id="deletar" actionListener="#{categoriaMB.deletar(cat)}" 
           		styleClass="ui-icon ui-icon-trash" style="text-align:center" 
           		update="Categoria"/>
       	   	</p:column>
			
			<p:column headerText="Opções" >
				<p:commandLink action="#{faseMB.verFases(cat)}" value="Ver Fases" />
			</p:column>

		</p:dataTable>
		
		<p:menu>
    		<p:menuitem value="Fazer Inscrição" url="/faces/Inscricao.xhtml"  icon="ui-icon-disk" /> 
		</p:menu>

	</h:form>

</h:body>
</html>