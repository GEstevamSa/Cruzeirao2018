<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<meta charset="UTF-8" />
</h:head>

<h:body>
	
	<p:menu>
    	<p:menuitem value="Voltar" url="/faces/Menu.xhtml"  icon="ui-icon-disk" />
	 </p:menu>
	 
	<h1>
		<strong>Cadastre aqui os seus Usuarios!</strong>
	</h1>
	<h:form id="formUsuario">
		
		
		
		<h:panelGrid columns="2" cellpadding="6">
		
			
			<p:outputLabel value="Nome: " />
			<p:inputText value="#{usuarioMB.novoUsuario.nome}" />

			<p:outputLabel for="popup" value="DataNascimento:" />
			<p:calendar id="popup" value="#{usuarioMB.novoUsuario.dataNascimento}" />

			<p:outputLabel value="email: " />
			<p:inputText value="#{usuarioMB.novoUsuario.email}" />

			<p:outputLabel value="TelefoneFixo:" />
			<p:inputText value="#{usuarioMB.novoUsuario.telefoneFixo}" />

			<p:outputLabel value="TelefoneMovel:" />
			<p:inputText value="#{usuarioMB.novoUsuario.telefoneMovel}" />

			<p:outputLabel value="RG:" />
			<p:inputText value="#{usuarioMB.novoUsuario.RG}" />

			<p:outputLabel value="CPF:" />
			<p:inputText value="#{usuarioMB.novoUsuario.CPF}" />

			<p:outputLabel value="Endereco:" />
			<p:inputText value="#{usuarioMB.novoUsuario.endereco}" />

		</h:panelGrid>

		<p:commandButton value="Salvar" action="#{usuarioMB.salvar}" update=":formUsuario" />
		
		

		<p:dataTable var="usu" 
			value="#{usuarioMB.usuarios}"   
			id="Usuario" editable="true" 
			
			paginator="true" rows="5"
       		paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
            rowsPerPageTemplate="5,10,15" >
			
			<p:ajax event="rowEdit" listener="#{usuarioMB.atualizar}" update="Usuario" />
			

			<p:column colspan="2" headerText="Nome">
			  <p:cellEditor>
			  <f:facet name="output"><p:outputLabel value="#{usu.nome}" /></f:facet>
			  <f:facet name="input"><p:inputText value="#{usu.nome}" style="width:100%" id="nome" /></f:facet>
			  </p:cellEditor>
			</p:column>
			
			<h:outputText value="Popup:" />
			<p:column colspan="2" headerText="Data Nasc.">
			<f:facet name="Data Nasc.">
				<h:outputText value="#{usu.dataNascimento}">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText>
			</f:facet>
			</p:column>

			<p:column colspan="3" headerText="Email">
			  <p:cellEditor>
			   <f:facet name="output"><p:outputLabel value="#{usu.nome}" /></f:facet>
			   <f:facet name="input"><p:inputText value="#{usu.nome}" style="width:100%" id="Email" /></f:facet>
			  </p:cellEditor>
			</p:column>

			
			<p:column colspan="2" headerText="TelFixo">
			  <p:cellEditor>
			   <f:facet name="output"><p:outputLabel value="#{usu.telefoneFixo}" /></f:facet>
			   <f:facet name="input"><p:inputText value="#{usu.telefoneFixo}" style="width:100%" id="TelFixo" /></f:facet>
			  </p:cellEditor>
			</p:column>
			
			<p:column colspan="2" headerText="TelMovel">
			  <p:cellEditor>
			   <f:facet name="output"><p:outputLabel value="#{usu.telefoneMovel}" /></f:facet>
			   <f:facet name="input"><p:inputText value="#{usu.telefoneMovel}" style="width:100%" id="TelMovel" /></f:facet>
			  </p:cellEditor>
			</p:column>
			
			<p:column colspan="2" headerText="RG">
			  <p:cellEditor>
			   <f:facet name="output"><p:outputLabel value="#{usu.RG}" /></f:facet>
			   <f:facet name="input"><p:inputText value="#{usu.RG}" style="width:100%" id="RG" /></f:facet>
			  </p:cellEditor>
			</p:column>
			
			<p:column colspan="2" headerText="CPF">
			<f:facet name="CPF">
				<p:outputLabel value="#{usu.CPF}" />
			</f:facet>
			</p:column>
			
			<p:column colspan="2" headerText="Endereço">
				  <p:cellEditor>
				  <f:facet name="output"><p:outputLabel value="#{usu.endereco}" /></f:facet>
			      <f:facet name="input"><p:inputText value="#{usu.endereco}" style="width:100%" id="Endereço" /></f:facet>
				  </p:cellEditor>
			</p:column>
			
			<p:column style="width:32px">
           		<p:rowEditor />
           		
           		<p:commandLink 
           		id="deletar" actionListener="#{usuarioMB. deletar(usu)}" 
           		styleClass="ui-icon ui-icon-trash" style="text-align:center" 
           		update="Usuario"/>
       	   	</p:column>

			<p:column colspan="3" headerText="Opções" >
				<p:commandLink action="#{usuarioMB.verEquipesCPF(usu)}" icon="ui-icon-disk" value="Adicionar Equipe" />
				<br/>
				<p:commandLink action="#{usuarioMB.verCampeonatos(usu)}" icon="ui-icon-disk" value="Adicionar Campeonato" />
			</p:column>
			

		</p:dataTable>

	</h:form>

</h:body>
</html>
