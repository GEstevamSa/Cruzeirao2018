<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Cadastro</title>
</h:head>

<h:body>
	 <p:menu>
    	<p:menuitem value="Voltar" url="/faces/Usuario.xhtml"  icon="ui-icon-disk" />
	 </p:menu>
	 
	<p:outputLabel value="CPF: #{equipeMB.usuarioAtual.CPF}"  />
	<br/>
	<p:outputLabel value="Nome: #{equipeMB.usuarioAtual.nome}"  />

	<h2>
		<strong>Cadastro de Equipe</strong>
	</h2>



	<h:form id="formEquipe">

		<h:panelGrid columns="2" cellpadding="5">
			
			<p:outputLabel value="Nome Equipe: " />
			<p:inputText value="#{equipeMB.novaEquipe.nome}" />

			<p:outputLabel for="popup" value="Data Fundação: " />
			<p:calendar id="popup" value="#{equipeMB.novaEquipe.dataFundacao}" />

			<p:outputLabel value="Cidade: " />
			<p:inputText value="#{equipeMB.novaEquipe.cidade}"/>

		</h:panelGrid>


		<p:commandButton action="#{equipeMB.salvar()}" value="Salvar" update=":formEquipe" />
		
		

		<h3>Equipes Cadastradas</h3>

		<p:dataTable var="equip" value="#{equipeMB.equipes}"  id="Equipe" editable="true" >
		
		<p:ajax event="rowEdit" listener="#{equipeMB.alterar}" update="Equipe" />

			<p:column colspan="2" headerText="Id" >
				<p:outputLabel value="#{equip.id}" />
			</p:column>
			
			<p:column colspan="2" headerText="Nome Equipe">
			<p:cellEditor>
			  <f:facet name="output"><p:outputLabel value="#{equip.nome}" /></f:facet>
			  <f:facet name="input"><p:inputText value="#{equip.nome}" style="width:100%" id="nome" /></f:facet>
			  </p:cellEditor>
			</p:column>

			<h:outputText value="Popup:" />
			<p:column colspan="2" headerText="Data Fundação">
				<h:outputText value="#{equip.dataFundacao}">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>

			<p:column colspan="2" headerText="Cidade">
			<p:cellEditor>
				  <f:facet name="output"><p:outputLabel value="#{equip.cidade}" /></f:facet>
			      <f:facet name="input"><p:inputText value="#{equip.cidade}" style="width:100%" id="Cidade" /></f:facet>
			</p:cellEditor>
			</p:column>
			
			<p:column style="width:32px">
           		<p:rowEditor />
           		
           		<p:commandLink 
           		id="deletar" actionListener="#{equipeMB.deletar(equip)}" 
           		styleClass="ui-icon ui-icon-trash" style="text-align:center" 
           		update="Equipe"/>
       	   	</p:column>
			
		</p:dataTable>
	</h:form>

</h:body>
</html>